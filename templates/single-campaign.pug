extends layout

block content
  .container
    .row
      .col-xs-12
        h1= post.title
        if post.subtitle && post.subtitle
          h2= post.subtitle

    if post.headerImages
      .row
        .col-xs-12
          .header-images
            each image in post.headerImages
              div.header-image
                .placeholder(style="background-image: url(" + image.sizes.large + ")")
                //- img(src=image.sizes.large)

    .row.m-xs-y-3.middle-xs
      .col-xs-12.col-md-4.col-md-offset-1
        div!= post.campaignLandingTextLeft
      .col-xs-12.col-md-5.col-md-offset-1
        div!= post.campaignLandingTextRight

    .row.m-xs-y-3
      .col-xs-12.col-md-8.col-md-offset-2
        h2= post.goalsTitle

        ol
          each goal in post.goals
            li
              h3= goal.title

              ul
                each task in goal.tasks
                  li= task.task

    .row.m-xs-t-3
      .col-xs-12.col-md-7
        h2= post.campaignWhatWereDoingTitle
        p.lead= post.campaignWhatWereDoingDescription

    if post.campaignWhatWereDoing
      .row
        each thing in post.campaignWhatWereDoing
          .col-xs-12.col-md-4
            .small-slider
              div
                .placeholder
              div
                .placeholder
            h3= thing.name
            div!= thing.description


    - var accomplismentClass = ''
    if post.accomplishments
      each accomplishment in post.accomplishments
        div(class='row m-xs-y-6 middle-xs' + accomplismentClass)
          .col-xs-12.col-md-4
            h4= accomplishment.title
            div!= accomplishment.description
          .col-xs-12.col-md-1
          .col-xs-12.col-md-7
            .placeholder

        if accomplismentClass === ''
          - accomplismentClass = ' reverse'
        else
          - accomplismentClass = ''

    .row
      .col-xs-12.col-md-7
        h3= post.campaignNewsTitle
        .lead!= post.campaignNewsDescription

    .row
      if site.posts
        - var numPostsPrinted = 0
        each post in site.posts
          if post.type === 'post' && numPostsPrinted < 3
            - numPostsPrinted = numPostsPrinted + 1

            include ./partials/post-listing


    .row
      .col-xs-12.col-md-7
        h3.m-xs-y-0= post.researchTitle
        .lead!= post.researchDescription

    .row
      if site.posts
        - var numPostsPrinted = 0
        each post in site.posts
          if post.type === 'post' && numPostsPrinted < 3
            - numPostsPrinted = numPostsPrinted + 1

            include ./partials/post-listing

    .row.m-xs-b-3
      .col-xs-12.col-md-6
        h3= post.campaignFooterTitle

        if post.campaignFooterSubtitle
          h4= post.campaignFooterSubtitle

        .lead!= post.campaignFooterContent
    //-
    //- pre
    //-   code #{JSON.stringify(post, null, 2)}
